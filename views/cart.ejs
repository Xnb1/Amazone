<%- include("includes/header1.ejs") %>

<h1>Your Shopping Cart</h1>
<hr>

<% if (cart && cart.items.length > 0) { %>
  <ul>                                           
    <% cart.items.forEach(item => { %>
      <li>
        <h2><%= item.product.title %></h2>
        <p>Price: $<%= item.product.price %></p>
        <p>Quantity: <%= item.quantity %></p>
        <p>Total: $<%= item.product.price * item.quantity %></p>
      </li>
    <% }) %>
  </ul>
  <p><strong>Grand Total: $<%= cart.items.reduce((total, item) => total + item.product.price * item.quantity, 0) %></strong></p>
<% } else { %>
  <p>Your cart is empty!</p>
<% } %>